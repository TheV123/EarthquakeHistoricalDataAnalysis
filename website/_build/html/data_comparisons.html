

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Historical Data Analysis &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'data_comparisons';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Hypothesis Testing" href="hypothesis_testing.html" />
    <link rel="prev" title="Research Proposal" href="proposal.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Introduction
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="proposal.html">Research Proposal</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Historical Data Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="hypothesis_testing.html">Hypothesis Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="earthquake_time_series.html">Earthquake Time Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="usgs_data_insights.html">USGS Data Insights</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fdata_comparisons.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/data_comparisons.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Historical Data Analysis</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="historical-data-analysis">
<h1>Historical Data Analysis<a class="headerlink" href="#historical-data-analysis" title="Permalink to this heading">#</a></h1>
<p>Goal: see if we can find trends in historical data and also to compare generated (ETAS) with recorded (USGS) data</p>
<p>Read in, format, and filter CSV data to remove earthquakes at unwanted lat/lon coordinates</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;matplotlib&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">csv_file</span> <span class="o">=</span> <span class="s2">&quot;Formatted_ETAS_Output.csv&quot;</span>
<span class="n">etas</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">lineterminator</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">etas</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Time</th>
      <th>Year</th>
      <th>X</th>
      <th>Y</th>
      <th>Magnitude</th>
      <th>Z\r</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>12/31/59</td>
      <td>0:03:09.00</td>
      <td>1960.002196</td>
      <td>-119.0502</td>
      <td>33.9790</td>
      <td>6.50</td>
      <td>8.2474</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1/2/60</td>
      <td>0:08:49.00</td>
      <td>1960.006125</td>
      <td>-115.6222</td>
      <td>33.0793</td>
      <td>4.25</td>
      <td>7.9322</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1/2/60</td>
      <td>0:10:31.00</td>
      <td>1960.007305</td>
      <td>-115.6323</td>
      <td>33.1220</td>
      <td>3.03</td>
      <td>8.4015</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1/2/60</td>
      <td>0:10:32.00</td>
      <td>1960.007320</td>
      <td>-115.5851</td>
      <td>33.0745</td>
      <td>3.03</td>
      <td>7.9678</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1/2/60</td>
      <td>0:11:07.00</td>
      <td>1960.007720</td>
      <td>-115.6256</td>
      <td>33.0290</td>
      <td>3.08</td>
      <td>7.9737</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">csv_file</span> <span class="o">=</span> <span class="s2">&quot;All (1960-2023).csv&quot;</span>
<span class="n">usgs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">lineterminator</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;time&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">})</span>
<span class="n">usgs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\deyan\AppData\Local\Temp\ipykernel_12188\3779433482.py:2: DtypeWarning:

Columns (1,2,3,4,6,7,8,9,15,16,17,18) have mixed types. Specify dtype option on import or set low_memory=False.
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>depth</th>
      <th>mag</th>
      <th>magType</th>
      <th>nst</th>
      <th>gap</th>
      <th>dmin</th>
      <th>rms</th>
      <th>...</th>
      <th>Unnamed: 991</th>
      <th>Unnamed: 992</th>
      <th>Unnamed: 993</th>
      <th>Unnamed: 994</th>
      <th>Unnamed: 995</th>
      <th>Unnamed: 996</th>
      <th>Unnamed: 997</th>
      <th>Unnamed: 998</th>
      <th>Unnamed: 999</th>
      <th>\r</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2023-10-12T21:41:21.480Z</td>
      <td>36.466167</td>
      <td>-120.875503</td>
      <td>15.85</td>
      <td>3.15</td>
      <td>ml</td>
      <td>60.0</td>
      <td>135.0</td>
      <td>0.1035</td>
      <td>0.2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2023-10-08T21:30:23.900Z</td>
      <td>38.827167</td>
      <td>-122.804</td>
      <td>1.75</td>
      <td>3.87</td>
      <td>mw</td>
      <td>108.0</td>
      <td>20.0</td>
      <td>0.006058</td>
      <td>0.06</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2023-10-05T03:09:58.000Z</td>
      <td>35.041</td>
      <td>-117.661</td>
      <td>0.79</td>
      <td>3.52</td>
      <td>ml</td>
      <td>63.0</td>
      <td>40.0</td>
      <td>0.1102</td>
      <td>0.15</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2023-10-01T19:29:36.760Z</td>
      <td>40.2915</td>
      <td>-124.2905</td>
      <td>9.59</td>
      <td>3.61</td>
      <td>mw</td>
      <td>40.0</td>
      <td>115.0</td>
      <td>0.0308</td>
      <td>0.17</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2023-10-01T15:41:29.620Z</td>
      <td>40.295167</td>
      <td>-124.287</td>
      <td>9.8</td>
      <td>4.09</td>
      <td>mw</td>
      <td>42.0</td>
      <td>105.0</td>
      <td>0.02685</td>
      <td>0.17</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 1001 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#converting the Date column into datetime format</span>
<span class="n">etas</span><span class="p">[</span><span class="s2">&quot;Date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">etas</span><span class="p">[</span><span class="s2">&quot;Date&quot;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;coerce&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%y&quot;</span><span class="p">)</span>
<span class="n">etas</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">etas</span><span class="p">[</span><span class="s2">&quot;Date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span> <span class="o">&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="s2">&quot;Date&quot;</span><span class="p">]</span> <span class="o">-=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DateOffset</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">etas</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Time</th>
      <th>Year</th>
      <th>X</th>
      <th>Y</th>
      <th>Magnitude</th>
      <th>Z\r</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1959-12-31</td>
      <td>0:03:09.00</td>
      <td>1960.002196</td>
      <td>-119.0502</td>
      <td>33.9790</td>
      <td>6.50</td>
      <td>8.2474</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1960-01-02</td>
      <td>0:08:49.00</td>
      <td>1960.006125</td>
      <td>-115.6222</td>
      <td>33.0793</td>
      <td>4.25</td>
      <td>7.9322</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1960-01-02</td>
      <td>0:10:31.00</td>
      <td>1960.007305</td>
      <td>-115.6323</td>
      <td>33.1220</td>
      <td>3.03</td>
      <td>8.4015</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1960-01-02</td>
      <td>0:10:32.00</td>
      <td>1960.007320</td>
      <td>-115.5851</td>
      <td>33.0745</td>
      <td>3.03</td>
      <td>7.9678</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960-01-02</td>
      <td>0:11:07.00</td>
      <td>1960.007720</td>
      <td>-115.6256</td>
      <td>33.0290</td>
      <td>3.08</td>
      <td>7.9737</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#converting the Date column into datetime format</span>
<span class="n">usgs</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;coerce&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">usgs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>depth</th>
      <th>mag</th>
      <th>magType</th>
      <th>nst</th>
      <th>gap</th>
      <th>dmin</th>
      <th>rms</th>
      <th>...</th>
      <th>Unnamed: 991</th>
      <th>Unnamed: 992</th>
      <th>Unnamed: 993</th>
      <th>Unnamed: 994</th>
      <th>Unnamed: 995</th>
      <th>Unnamed: 996</th>
      <th>Unnamed: 997</th>
      <th>Unnamed: 998</th>
      <th>Unnamed: 999</th>
      <th>\r</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2023-10-12</td>
      <td>36.466167</td>
      <td>-120.875503</td>
      <td>15.85</td>
      <td>3.15</td>
      <td>ml</td>
      <td>60.0</td>
      <td>135.0</td>
      <td>0.1035</td>
      <td>0.2</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2023-10-08</td>
      <td>38.827167</td>
      <td>-122.804</td>
      <td>1.75</td>
      <td>3.87</td>
      <td>mw</td>
      <td>108.0</td>
      <td>20.0</td>
      <td>0.006058</td>
      <td>0.06</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2023-10-05</td>
      <td>35.041</td>
      <td>-117.661</td>
      <td>0.79</td>
      <td>3.52</td>
      <td>ml</td>
      <td>63.0</td>
      <td>40.0</td>
      <td>0.1102</td>
      <td>0.15</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2023-10-01</td>
      <td>40.2915</td>
      <td>-124.2905</td>
      <td>9.59</td>
      <td>3.61</td>
      <td>mw</td>
      <td>40.0</td>
      <td>115.0</td>
      <td>0.0308</td>
      <td>0.17</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2023-10-01</td>
      <td>40.295167</td>
      <td>-124.287</td>
      <td>9.8</td>
      <td>4.09</td>
      <td>mw</td>
      <td>42.0</td>
      <td>105.0</td>
      <td>0.02685</td>
      <td>0.17</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 1001 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#filter the dataset by Date &gt; 1960-01-01 and Date &lt; 2023-01-1 </span>
<span class="n">etas</span> <span class="o">=</span> <span class="n">etas</span><span class="p">[(</span><span class="n">etas</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;1960-01-01&#39;</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">etas</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">))]</span>

<span class="c1">#filter the dataset by X &gt; -123 and X &lt; -113 and Y &gt; 29 and Y &lt; 39</span>
<span class="n">etas</span> <span class="o">=</span> <span class="n">etas</span><span class="p">[</span><span class="n">etas</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">123</span><span class="p">]</span>
<span class="n">etas</span> <span class="o">=</span> <span class="n">etas</span><span class="p">[</span><span class="n">etas</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">113</span><span class="p">]</span>
<span class="n">etas</span> <span class="o">=</span> <span class="n">etas</span><span class="p">[</span><span class="n">etas</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">39</span><span class="p">]</span>
<span class="n">etas</span> <span class="o">=</span> <span class="n">etas</span><span class="p">[</span><span class="n">etas</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">29</span><span class="p">]</span>

<span class="n">etas</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Time</th>
      <th>Year</th>
      <th>X</th>
      <th>Y</th>
      <th>Magnitude</th>
      <th>Z\r</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>1960-01-02</td>
      <td>0:08:49.00</td>
      <td>1960.006125</td>
      <td>-115.6222</td>
      <td>33.0793</td>
      <td>4.25</td>
      <td>7.9322</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1960-01-02</td>
      <td>0:10:31.00</td>
      <td>1960.007305</td>
      <td>-115.6323</td>
      <td>33.1220</td>
      <td>3.03</td>
      <td>8.4015</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1960-01-02</td>
      <td>0:10:32.00</td>
      <td>1960.007320</td>
      <td>-115.5851</td>
      <td>33.0745</td>
      <td>3.03</td>
      <td>7.9678</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960-01-02</td>
      <td>0:11:07.00</td>
      <td>1960.007720</td>
      <td>-115.6256</td>
      <td>33.0290</td>
      <td>3.08</td>
      <td>7.9737</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1960-01-02</td>
      <td>0:11:17.00</td>
      <td>1960.007840</td>
      <td>-115.6050</td>
      <td>33.0276</td>
      <td>3.61</td>
      <td>7.9322</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#filter the dataset by Date &gt; 1960-01-01 and Date &lt; 2023-01-1 </span>
<span class="n">usgs</span> <span class="o">=</span> <span class="n">usgs</span><span class="p">[(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;1960-01-01&#39;</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span> <span class="o">&lt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">))]</span>

<span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

<span class="c1">#filter the dataset by X &gt; -123 and X &lt; -113 and Y &gt; 29 and Y &lt; 39</span>
<span class="n">usgs</span> <span class="o">=</span> <span class="n">usgs</span><span class="p">[</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">123</span><span class="p">]</span>
<span class="n">usgs</span> <span class="o">=</span> <span class="n">usgs</span><span class="p">[</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">113</span><span class="p">]</span>
<span class="n">usgs</span> <span class="o">=</span> <span class="n">usgs</span><span class="p">[</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">39</span><span class="p">]</span>
<span class="n">usgs</span> <span class="o">=</span> <span class="n">usgs</span><span class="p">[</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">29</span><span class="p">]</span>
<span class="n">usgs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>depth</th>
      <th>mag</th>
      <th>magType</th>
      <th>nst</th>
      <th>gap</th>
      <th>dmin</th>
      <th>rms</th>
      <th>...</th>
      <th>Unnamed: 991</th>
      <th>Unnamed: 992</th>
      <th>Unnamed: 993</th>
      <th>Unnamed: 994</th>
      <th>Unnamed: 995</th>
      <th>Unnamed: 996</th>
      <th>Unnamed: 997</th>
      <th>Unnamed: 998</th>
      <th>Unnamed: 999</th>
      <th>\r</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>240</th>
      <td>2022-12-31</td>
      <td>33.397500</td>
      <td>-116.393333</td>
      <td>3.88</td>
      <td>4.14</td>
      <td>mw</td>
      <td>132.0</td>
      <td>16.0</td>
      <td>0.07391</td>
      <td>0.19</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>241</th>
      <td>2022-12-31</td>
      <td>34.355667</td>
      <td>-116.921833</td>
      <td>4.73</td>
      <td>3.47</td>
      <td>mw</td>
      <td>121.0</td>
      <td>25.0</td>
      <td>0.07845</td>
      <td>0.15</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>246</th>
      <td>2022-12-22</td>
      <td>37.620167</td>
      <td>-122.025000</td>
      <td>3.82</td>
      <td>3.34</td>
      <td>mw</td>
      <td>141.0</td>
      <td>16.0</td>
      <td>NaN</td>
      <td>0.16</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>262</th>
      <td>2022-12-17</td>
      <td>37.918167</td>
      <td>-122.304000</td>
      <td>5.48</td>
      <td>3.57</td>
      <td>mw</td>
      <td>170.0</td>
      <td>19.0</td>
      <td>0.01598</td>
      <td>0.15</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
    <tr>
      <th>263</th>
      <td>2022-12-13</td>
      <td>36.604667</td>
      <td>-121.209333</td>
      <td>8.88</td>
      <td>3.28</td>
      <td>ml</td>
      <td>67.0</td>
      <td>55.0</td>
      <td>0.03812</td>
      <td>0.09</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>\r</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 1001 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">summary_stats</span> <span class="o">=</span> <span class="n">etas</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">summary_stats</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                                 Date        Time          Year             X  \
count                           31547       31547  31547.000000  31547.000000   
unique                            NaN       26489           NaN           NaN   
top                               NaN  6:49:17.00           NaN           NaN   
freq                              NaN           5           NaN           NaN   
mean    1991-09-14 02:33:35.963483008         NaN   1991.704948   -117.520496   
min               1960-01-02 00:00:00         NaN   1960.006125   -122.971200   
25%               1975-10-16 00:00:00         NaN   1975.794142   -118.711750   
50%               1992-01-15 00:00:00         NaN   1992.042660   -117.191400   
75%               2007-07-21 00:00:00         NaN   2007.554579   -116.092200   
max               2022-12-31 00:00:00         NaN   2023.001815   -113.246300   
std                               NaN         NaN     18.290538      2.080386   

                   Y     Magnitude           Z\r  
count   31547.000000  31547.000000  31547.000000  
unique           NaN           NaN           NaN  
top              NaN           NaN           NaN  
freq             NaN           NaN           NaN  
mean       34.786608      3.452404      9.544947  
min        29.080400      3.000000      0.000000  
25%        33.331600      3.130000      4.172650  
50%        34.569000      3.310000      8.984100  
75%        36.785400      3.630000     15.042250  
max        38.999600      7.650000     20.000000  
std         2.370060      0.460174      6.158339  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">summary_stats</span> <span class="o">=</span> <span class="n">usgs</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">summary_stats</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              time      latitude     longitude    depth      mag magType  \
count        28052  28052.000000  28052.000000  28042.0  28052.0   28051   
unique       11447           NaN           NaN  12818.0    499.0      12   
top     2019-07-06           NaN           NaN      6.0      3.0      ml   
freq           605           NaN           NaN   1242.0   1321.0   18987   
mean           NaN     35.619491   -118.254409      NaN      NaN     NaN   
std            NaN      1.926341      2.120540      NaN      NaN     NaN   
min            NaN     32.176000   -122.992000      NaN      NaN     NaN   
25%            NaN     34.032000   -119.650750      NaN      NaN     NaN   
50%            NaN     35.873500   -118.058633      NaN      NaN     NaN   
75%            NaN     37.399000   -116.390167      NaN      NaN     NaN   
max            NaN     38.996000   -113.560667      NaN      NaN     NaN   

            nst      gap         dmin       rms  ... Unnamed: 991  \
count   26558.0  26562.0  19725.00000  26819.00  ...          0.0   
unique    412.0   3970.0   8507.00000   1860.00  ...          NaN   
top         0.0     37.0      0.03604      0.06  ...          NaN   
freq     4842.0    225.0    120.00000   1242.00  ...          NaN   
mean        NaN      NaN          NaN       NaN  ...          NaN   
std         NaN      NaN          NaN       NaN  ...          NaN   
min         NaN      NaN          NaN       NaN  ...          NaN   
25%         NaN      NaN          NaN       NaN  ...          NaN   
50%         NaN      NaN          NaN       NaN  ...          NaN   
75%         NaN      NaN          NaN       NaN  ...          NaN   
max         NaN      NaN          NaN       NaN  ...          NaN   

       Unnamed: 992 Unnamed: 993 Unnamed: 994 Unnamed: 995  Unnamed: 996  \
count           0.0          0.0          0.0          0.0           0.0   
unique          NaN          NaN          NaN          NaN           NaN   
top             NaN          NaN          NaN          NaN           NaN   
freq            NaN          NaN          NaN          NaN           NaN   
mean            NaN          NaN          NaN          NaN           NaN   
std             NaN          NaN          NaN          NaN           NaN   
min             NaN          NaN          NaN          NaN           NaN   
25%             NaN          NaN          NaN          NaN           NaN   
50%             NaN          NaN          NaN          NaN           NaN   
75%             NaN          NaN          NaN          NaN           NaN   
max             NaN          NaN          NaN          NaN           NaN   

        Unnamed: 997  Unnamed: 998  Unnamed: 999     \r  
count            0.0           0.0           0.0  28052  
unique           NaN           NaN           NaN      1  
top              NaN           NaN           NaN     \r  
freq             NaN           NaN           NaN  28052  
mean             NaN           NaN           NaN    NaN  
std              NaN           NaN           NaN    NaN  
min              NaN           NaN           NaN    NaN  
25%              NaN           NaN           NaN    NaN  
50%              NaN           NaN           NaN    NaN  
75%              NaN           NaN           NaN    NaN  
max              NaN           NaN           NaN    NaN  

[11 rows x 1001 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mean magnitude for each year</span>
<span class="nb">print</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">)[</span><span class="s1">&#39;Magnitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="c1"># Sum of magnitudes for each year</span>
<span class="nb">print</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">)[</span><span class="s1">&#39;Magnitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Date
1960    3.421501
1961    3.431192
1962    3.455392
1963    3.464771
1964    3.479369
          ...   
2018    3.410692
2019    3.476648
2020    3.452177
2021    3.435720
2022    3.451487
Name: Magnitude, Length: 63, dtype: float64
Date
1960    1549.94
1961    1554.33
1962    1717.33
1963    1663.09
1964    2094.58
         ...   
2018    1626.90
2019    1866.96
2020    1712.28
2021    1669.76
2022    1763.71
Name: Magnitude, Length: 63, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]:</span>
    <span class="n">time</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;mag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;mag&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

<span class="c1">#group usgs times by year and print mean magnitude</span>
<span class="nb">print</span><span class="p">(</span><span class="n">usgs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">)[</span><span class="s1">&#39;mag&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="c1">#group usgs times by year and print sum of magnitude</span>
<span class="nb">print</span><span class="p">(</span><span class="n">usgs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">)[</span><span class="s1">&#39;mag&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>time
1960    3.500103
1961    3.550617
1962    3.605721
1963    3.632488
1964    3.614620
          ...   
2018    3.429632
2019    3.454067
2020    3.439794
2021    3.429510
2022    3.416330
Name: mag, Length: 63, dtype: float64
time
1960     339.5100
1961     575.2000
1962     749.9900
1963     744.6600
1964     618.1000
          ...    
2018     559.0300
2019    4611.1800
2020    2999.5000
2021    1323.7907
2022     744.7600
Name: mag, Length: 63, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Maximum magnitude earthquake for each year</span>
<span class="nb">print</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">)[</span><span class="s1">&#39;Magnitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>

<span class="c1"># Total number of earthquakes for each year</span>
<span class="nb">print</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">)[</span><span class="s1">&#39;Magnitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Date
1960    5.22
1961    5.78
1962    6.38
1963    5.71
1964    7.65
        ... 
2018    6.36
2019    5.57
2020    6.28
2021    6.80
2022    6.46
Name: Magnitude, Length: 63, dtype: float64
Date
1960    453
1961    453
1962    497
1963    480
1964    602
       ... 
2018    477
2019    537
2020    496
2021    486
2022    511
Name: Magnitude, Length: 63, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Maximum usgs magnitude for each year</span>
<span class="nb">print</span><span class="p">(</span><span class="n">usgs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">)[</span><span class="s1">&#39;mag&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>

<span class="c1"># Total number of earthquakes for each year</span>
<span class="nb">print</span><span class="p">(</span><span class="n">usgs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">)[</span><span class="s1">&#39;mag&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>time
1960    5.00
1961    5.88
1962    5.10
1963    5.40
1964    5.20
        ... 
2018    5.29
2019    7.10
2020    6.50
2021    6.00
2022    5.06
Name: mag, Length: 63, dtype: float64
time
1960      97
1961     162
1962     208
1963     205
1964     171
        ... 
2018     163
2019    1335
2020     872
2021     386
2022     218
Name: mag, Length: 63, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Grouping the data into 1 month chunks and then get the same feature values</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mean magnitude for each month</span>
<span class="n">mean_mag_etas</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">etas</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">Magnitude</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="c1"># Sum of magnitudes for each month</span>
<span class="n">sum_mag_etas</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">etas</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">Magnitude</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mean magnitude for each month</span>
<span class="n">mean_mag_usgs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">usgs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mag</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="c1"># Sum of magnitudes for each month</span>
<span class="n">sum_mag_usgs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">usgs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mag</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Maximum magnitude earthquake for each month</span>
<span class="n">max_mag_etas</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">etas</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">Magnitude</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">max_mag_etas</span><span class="p">)</span>

<span class="c1"># Total number of earthquakes for each month</span>
<span class="n">earthquake_count_etas</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">etas</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">etas</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">Magnitude</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>         Magnitude
Date              
1960-01       4.25
1960-02       4.68
1960-03       5.22
1960-04       4.49
1960-05       4.29
...            ...
2022-08       4.02
2022-09       4.30
2022-10       5.88
2022-11       5.19
2022-12       5.09

[755 rows x 1 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Maximum magnitude earthquake for each month</span>
<span class="n">max_mag_usgs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">usgs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mag</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>

<span class="c1"># Total number of earthquakes for each month</span>
<span class="n">earthquake_count_usgs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">usgs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mag</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean_mag_etas</span> <span class="o">=</span> <span class="n">mean_mag_etas</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">mean_mag_etas</span><span class="p">[</span><span class="s2">&quot;ETAS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean_mag_etas</span><span class="p">[</span><span class="s2">&quot;Magnitude&quot;</span><span class="p">]</span>
<span class="n">mean_mag_etas</span> <span class="o">=</span> <span class="n">mean_mag_etas</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Magnitude&quot;</span><span class="p">])</span>
<span class="n">mean_mag_etas</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>ETAS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1960-01</td>
      <td>3.325385</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1960-02</td>
      <td>3.417838</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1960-03</td>
      <td>3.496923</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1960-04</td>
      <td>3.385135</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960-05</td>
      <td>3.438857</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean_mag_usgs</span> <span class="o">=</span> <span class="n">mean_mag_usgs</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">mean_mag_usgs</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean_mag_usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
<span class="n">mean_mag_usgs</span><span class="p">[</span><span class="s2">&quot;USGS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean_mag_usgs</span><span class="p">[</span><span class="s2">&quot;mag&quot;</span><span class="p">]</span>
<span class="n">mean_mag_usgs</span> <span class="o">=</span> <span class="n">mean_mag_usgs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mag&quot;</span><span class="p">])</span>
<span class="n">mean_mag_usgs</span> <span class="o">=</span> <span class="n">mean_mag_usgs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">])</span>
<span class="n">mean_mag_usgs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>USGS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1960-01</td>
      <td>3.668333</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1960-02</td>
      <td>3.353750</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1960-03</td>
      <td>3.346667</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1960-04</td>
      <td>3.621111</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960-05</td>
      <td>3.423333</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">merged_mean_mag</span> <span class="o">=</span> <span class="n">mean_mag_etas</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">mean_mag_usgs</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
<span class="n">merged_mean_mag</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>ETAS</th>
      <th>USGS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1960-01</td>
      <td>3.325385</td>
      <td>3.668333</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1960-02</td>
      <td>3.417838</td>
      <td>3.353750</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1960-03</td>
      <td>3.496923</td>
      <td>3.346667</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1960-04</td>
      <td>3.385135</td>
      <td>3.621111</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960-05</td>
      <td>3.438857</td>
      <td>3.423333</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assuming merged_sum_mag is a DataFrame with &#39;Date&#39;, &#39;ETAS&#39;, and &#39;USGS&#39; columns</span>
<span class="n">merged_mean_mag</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged_mean_mag</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span>

<span class="c1"># Create a Plotly figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">merged_mean_mag</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> 
              <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">,</span> <span class="s1">&#39;USGS&#39;</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Magnitude&#39;</span><span class="p">},</span> 
              <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ETAS vs USGS Mean Earthquake Magnitudes&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
<span class="c1"># Add interactivity</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">rangeslider_visible</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">dragmode</span><span class="o">=</span><span class="s1">&#39;pan&#39;</span><span class="p">,</span> <span class="n">hovermode</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sum_mag_etas</span> <span class="o">=</span> <span class="n">sum_mag_etas</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">sum_mag_etas</span><span class="p">[</span><span class="s2">&quot;ETAS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum_mag_etas</span><span class="p">[</span><span class="s2">&quot;Magnitude&quot;</span><span class="p">]</span>
<span class="n">sum_mag_etas</span> <span class="o">=</span> <span class="n">sum_mag_etas</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Magnitude&quot;</span><span class="p">])</span>

<span class="n">sum_mag_usgs</span> <span class="o">=</span> <span class="n">sum_mag_usgs</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">sum_mag_usgs</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum_mag_usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
<span class="n">sum_mag_usgs</span><span class="p">[</span><span class="s2">&quot;USGS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum_mag_usgs</span><span class="p">[</span><span class="s2">&quot;mag&quot;</span><span class="p">]</span>
<span class="n">sum_mag_usgs</span> <span class="o">=</span> <span class="n">sum_mag_usgs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mag&quot;</span><span class="p">])</span>
<span class="n">sum_mag_usgs</span> <span class="o">=</span> <span class="n">sum_mag_usgs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">])</span>

<span class="n">merged_sum_mag</span> <span class="o">=</span> <span class="n">sum_mag_etas</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">sum_mag_usgs</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
<span class="n">merged_sum_mag</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>ETAS</th>
      <th>USGS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1960-01</td>
      <td>172.92</td>
      <td>44.02</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1960-02</td>
      <td>126.46</td>
      <td>26.83</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1960-03</td>
      <td>181.84</td>
      <td>20.08</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1960-04</td>
      <td>125.25</td>
      <td>32.59</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960-05</td>
      <td>120.36</td>
      <td>20.54</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assuming merged_sum_mag is a DataFrame with &#39;Date&#39;, &#39;ETAS&#39;, and &#39;USGS&#39; columns</span>
<span class="n">merged_sum_mag</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged_sum_mag</span><span class="p">[</span><span class="s2">&quot;Date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span>

<span class="c1"># Create a Plotly figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">merged_sum_mag</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">,</span> <span class="s1">&#39;USGS&#39;</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Magnitude&#39;</span><span class="p">},</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ETAS vs USGS Sum Of Magnitudes&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
<span class="c1"># Add interactivity</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">rangeslider_visible</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">dragmode</span><span class="o">=</span><span class="s1">&#39;pan&#39;</span><span class="p">,</span> <span class="n">hovermode</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">max_mag_etas</span> <span class="o">=</span> <span class="n">max_mag_etas</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">max_mag_etas</span><span class="p">[</span><span class="s2">&quot;ETAS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_mag_etas</span><span class="p">[</span><span class="s2">&quot;Magnitude&quot;</span><span class="p">]</span>
<span class="n">max_mag_etas</span> <span class="o">=</span> <span class="n">max_mag_etas</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Magnitude&quot;</span><span class="p">])</span>

<span class="n">max_mag_usgs</span> <span class="o">=</span> <span class="n">max_mag_usgs</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">max_mag_usgs</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_mag_usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
<span class="n">max_mag_usgs</span><span class="p">[</span><span class="s2">&quot;USGS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_mag_usgs</span><span class="p">[</span><span class="s2">&quot;mag&quot;</span><span class="p">]</span>
<span class="n">max_mag_usgs</span> <span class="o">=</span> <span class="n">max_mag_usgs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mag&quot;</span><span class="p">])</span>
<span class="n">max_mag_usgs</span> <span class="o">=</span> <span class="n">max_mag_usgs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">])</span>

<span class="n">merged_max_mag</span> <span class="o">=</span> <span class="n">max_mag_etas</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">max_mag_usgs</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
<span class="n">merged_max_mag</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>ETAS</th>
      <th>USGS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1960-01</td>
      <td>4.25</td>
      <td>5.00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1960-02</td>
      <td>4.68</td>
      <td>3.79</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1960-03</td>
      <td>5.22</td>
      <td>3.67</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1960-04</td>
      <td>4.49</td>
      <td>4.24</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960-05</td>
      <td>4.29</td>
      <td>4.00</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">merged_max_mag</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged_max_mag</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span>

<span class="c1"># Create a Plotly figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">merged_max_mag</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">,</span> <span class="s1">&#39;USGS&#39;</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Magnitude&#39;</span><span class="p">},</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ETAS vs USGS Max Magnitude&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
<span class="c1"># Add interactivity</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">rangeslider_visible</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">dragmode</span><span class="o">=</span><span class="s1">&#39;pan&#39;</span><span class="p">,</span> <span class="n">hovermode</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">earthquake_count_etas</span> <span class="o">=</span> <span class="n">earthquake_count_etas</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">earthquake_count_etas</span><span class="p">[</span><span class="s2">&quot;ETAS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">earthquake_count_etas</span><span class="p">[</span><span class="s2">&quot;Magnitude&quot;</span><span class="p">]</span>
<span class="n">earthquake_count_etas</span> <span class="o">=</span> <span class="n">earthquake_count_etas</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Magnitude&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">earthquake_count_usgs</span> <span class="o">=</span> <span class="n">earthquake_count_usgs</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">earthquake_count_usgs</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">earthquake_count_usgs</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
<span class="n">earthquake_count_usgs</span><span class="p">[</span><span class="s2">&quot;USGS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">earthquake_count_usgs</span><span class="p">[</span><span class="s2">&quot;mag&quot;</span><span class="p">]</span>
<span class="n">earthquake_count_usgs</span> <span class="o">=</span> <span class="n">earthquake_count_usgs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mag&quot;</span><span class="p">])</span>
<span class="n">earthquake_count_usgs</span> <span class="o">=</span> <span class="n">earthquake_count_usgs</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">merged_earthquake_counts</span> <span class="o">=</span> <span class="n">earthquake_count_etas</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">earthquake_count_usgs</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
<span class="n">merged_earthquake_counts</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>ETAS</th>
      <th>USGS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1960-01</td>
      <td>52</td>
      <td>12</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1960-02</td>
      <td>37</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1960-03</td>
      <td>52</td>
      <td>6</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1960-04</td>
      <td>37</td>
      <td>9</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960-05</td>
      <td>35</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">merged_earthquake_counts</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged_earthquake_counts</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span>

<span class="c1"># Create a Plotly figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">merged_earthquake_counts</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">,</span> <span class="s1">&#39;USGS&#39;</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Number of Earthquakes&#39;</span><span class="p">},</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ETAS vs USGS Number of Earthquakes&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
<span class="c1"># Add interactivity</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">rangeslider_visible</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">dragmode</span><span class="o">=</span><span class="s1">&#39;pan&#39;</span><span class="p">,</span> <span class="n">hovermode</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot difference between ETAS/USGS mean mag</span>

<span class="n">usgs_mean_df</span> <span class="o">=</span> <span class="n">mean_mag_usgs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">etas_mean_df</span> <span class="o">=</span> <span class="n">mean_mag_etas</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">merged_mean_df</span> <span class="o">=</span> <span class="n">usgs_mean_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">etas_mean_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">merged_mean_df</span><span class="p">[</span><span class="s1">&#39;Result&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged_mean_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">merged_mean_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check for months where maximum &gt;= 5</span>

<span class="n">etas_mask</span> <span class="o">=</span> <span class="n">max_mag_etas</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">5</span>
<span class="n">etas_max</span> <span class="o">=</span> <span class="n">max_mag_etas</span><span class="p">[</span><span class="n">etas_mask</span><span class="p">]</span>
<span class="n">etas_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">etas_max</span><span class="p">)</span>

<span class="n">usgs_mask</span> <span class="o">=</span> <span class="n">max_mag_usgs</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">5</span>
<span class="n">usgs_max</span> <span class="o">=</span> <span class="n">max_mag_usgs</span><span class="p">[</span><span class="n">usgs_mask</span><span class="p">]</span>
<span class="n">usgs_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">usgs_max</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">etas_size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">usgs_size</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>312
234
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">usgs_max_df</span> <span class="o">=</span> <span class="n">usgs_max</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">etas_max_df</span> <span class="o">=</span> <span class="n">etas_max</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">merged_max_df</span> <span class="o">=</span> <span class="n">usgs_max_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">etas_max_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">merged_max_df</span><span class="p">[</span><span class="s1">&#39;Result&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged_max_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">merged_max_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">merged_max_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       Date  USGS  ETAS  Result
0   1961-01  5.05  5.78   -0.73
1   1961-04  5.88  5.51    0.37
2   1961-10  5.13  5.71   -0.58
3   1962-04  5.10  5.02    0.08
4   1962-05  5.10  6.01   -0.91
..      ...   ...   ...     ...
81  2016-06  5.19  5.91   -0.72
82  2016-12  5.60  5.17    0.43
83  2020-04  5.24  5.15    0.09
84  2021-06  5.25  5.08    0.17
85  2022-10  5.06  5.88   -0.82

[86 rows x 4 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">origin</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">x_values</span> <span class="o">=</span> <span class="n">merged_max_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">y_values</span> <span class="o">=</span> <span class="n">merged_max_df</span><span class="p">[</span><span class="s1">&#39;Result&#39;</span><span class="p">]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">y_values</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">origin</span><span class="p">:</span>
        <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_values</span><span class="p">,</span> <span class="n">y_values</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Result&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x_values</span><span class="p">,</span> <span class="n">y_values</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Result&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Threshold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Difference between USGS and ETAS Max Magnitude&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">origin</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Origin&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\deyan\AppData\Local\Temp\ipykernel_12188\2658499480.py:3: UserWarning:

No data for colormapping provided via &#39;c&#39;. Parameters &#39;cmap&#39; will be ignored
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.lines.Line2D at 0x21e98307af0&gt;
</pre></div>
</div>
<img alt="_images/f789d2082ab5b0b353970de73fec669dfec8c0bbb0f4a5e0b287b2af34e6e0ab.png" src="_images/f789d2082ab5b0b353970de73fec669dfec8c0bbb0f4a5e0b287b2af34e6e0ab.png" />
</div>
</div>
<p>write about this chart</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>

<span class="n">scatter</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x_values</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y_values</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;markers&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">colorscale</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">scatter</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Difference between USGS and ETAS Max Magnitude&#39;</span><span class="p">,</span>
    <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;X-axis Label&#39;</span><span class="p">,</span>
    <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Y-axis Label&#39;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">greater</span> <span class="o">=</span> <span class="n">y_values</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">greater</span><span class="p">))</span>
<span class="n">lesser</span> <span class="o">=</span> <span class="n">y_values</span> <span class="o">&lt;</span> <span class="mi">0</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lesser</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>86
86
</pre></div>
</div>
</div>
</div>
<p>ETAS seems to have predicted as many earthquakes with greater magnitudes than what USGS records show as it did earthquakes with lesser magnitudes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create new data frames to store energy values</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="n">usgs_max_energy_df</span> <span class="o">=</span> <span class="n">usgs_max</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">etas_max_energy_df</span> <span class="o">=</span> <span class="n">etas_max</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">usgs_mean_energy_df</span> <span class="o">=</span> <span class="n">mean_mag_usgs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">etas_mean_energy_df</span> <span class="o">=</span> <span class="n">mean_mag_etas</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">usgs_sum_mag_energy_df</span> <span class="o">=</span> <span class="n">sum_mag_usgs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">etas_sum_mag_energy_df</span> <span class="o">=</span> <span class="n">sum_mag_etas</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">formula_constant</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mf">1.5</span><span class="p">)</span>

<span class="n">usgs_max_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">usgs_max_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">])</span> 
<span class="n">usgs_max_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">usgs_max_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="n">formula_constant</span> 

<span class="n">etas_max_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">etas_max_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">])</span> 
<span class="n">etas_max_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">etas_max_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="n">formula_constant</span> 

<span class="n">usgs_mean_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">usgs_mean_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">])</span>
<span class="n">usgs_mean_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">usgs_mean_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="n">formula_constant</span>

<span class="n">etas_mean_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">etas_mean_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">])</span>
<span class="n">etas_mean_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">etas_mean_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="n">formula_constant</span>

<span class="n">usgs_sum_mag_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">usgs_sum_mag_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">])</span>
<span class="n">usgs_sum_mag_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">usgs_sum_mag_energy_df</span><span class="p">[</span><span class="s1">&#39;USGS&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="n">formula_constant</span>

<span class="n">etas_sum_mag_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">etas_sum_mag_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">])</span>
<span class="n">etas_sum_mag_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">etas_sum_mag_energy_df</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="n">formula_constant</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">max_energy_df</span> <span class="o">=</span> <span class="n">usgs_max_energy_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">etas_max_energy_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
<span class="n">max_energy_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_energy_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span>
<span class="n">max_energy_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>USGS</th>
      <th>ETAS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1961-01-01</td>
      <td>11.628055</td>
      <td>13.308942</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1961-04-01</td>
      <td>13.539200</td>
      <td>12.687244</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1961-10-01</td>
      <td>11.812262</td>
      <td>13.147761</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1962-04-01</td>
      <td>11.743184</td>
      <td>11.558977</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1962-05-01</td>
      <td>11.743184</td>
      <td>13.838536</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Max energy dataframe plot</span>

<span class="c1"># Create a Plotly figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">max_energy_df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">,</span> <span class="s1">&#39;USGS&#39;</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Energy&#39;</span><span class="p">},</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ETAS vs USGS Max Earthquake Energy&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
<span class="c1"># Add interactivity</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">rangeslider_visible</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">dragmode</span><span class="o">=</span><span class="s1">&#39;pan&#39;</span><span class="p">,</span> <span class="n">hovermode</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>This chart compares the energy generated by the maximum magnitude earthquake generated by ETAS each month to USGS records. Data is fairly consistent, outside of occasional USGS spikes that ETAS can’t simulate.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean_energy_df</span> <span class="o">=</span> <span class="n">usgs_mean_energy_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">etas_mean_energy_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
<span class="n">mean_energy_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean_energy_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span>
<span class="n">mean_energy_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>USGS</th>
      <th>ETAS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1960-01-01</td>
      <td>8.446650</td>
      <td>7.656981</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1960-02-01</td>
      <td>7.722295</td>
      <td>7.869862</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1960-03-01</td>
      <td>7.705985</td>
      <td>8.051963</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1960-04-01</td>
      <td>8.337916</td>
      <td>7.794562</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960-05-01</td>
      <td>7.882516</td>
      <td>7.918261</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mean energy dataframe plot</span>

<span class="n">mean_energy_df</span> <span class="o">=</span> <span class="n">usgs_mean_energy_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">etas_mean_energy_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
<span class="n">mean_energy_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean_energy_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span>

<span class="c1"># Create a Plotly figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">mean_energy_df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">,</span> <span class="s1">&#39;USGS&#39;</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Energy&#39;</span><span class="p">},</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ETAS vs USGS Mean Earthquake Energy&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
<span class="c1"># Add interactivity</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">rangeslider_visible</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">dragmode</span><span class="o">=</span><span class="s1">&#39;pan&#39;</span><span class="p">,</span> <span class="n">hovermode</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>This chart compares the mean energy generated by earthquakes each month. ETAS and USGS data is fairly consistent after 1970, which is when USGS observation standards and methods improved (explain why this matters/how methods changed).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sum_mag_energy_df</span> <span class="o">=</span> <span class="n">usgs_sum_mag_energy_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">etas_sum_mag_energy_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
<span class="n">sum_mag_energy_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sum_mag_energy_df</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">()</span>
<span class="n">sum_mag_energy_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>USGS</th>
      <th>ETAS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1960-01-01</td>
      <td>101.359796</td>
      <td>398.163014</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1960-02-01</td>
      <td>61.778358</td>
      <td>291.184911</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1960-03-01</td>
      <td>46.235909</td>
      <td>418.702073</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1960-04-01</td>
      <td>75.041248</td>
      <td>288.398783</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960-05-01</td>
      <td>47.295098</td>
      <td>277.139142</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sum mag energy dataframe plot</span>

<span class="c1"># Create a Plotly figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">sum_mag_energy_df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ETAS&#39;</span><span class="p">,</span> <span class="s1">&#39;USGS&#39;</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Energy&#39;</span><span class="p">},</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ETAS vs USGS Sum Magnitude Energy&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">1.0</span><span class="p">))</span>
<span class="c1"># Add interactivity</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">rangeslider_visible</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">dragmode</span><span class="o">=</span><span class="s1">&#39;pan&#39;</span><span class="p">,</span> <span class="n">hovermode</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>This chart compares the total energy generated by ETAS each month with the recorded values from earthquakes in USGS records. Data is consistent after 1970, which is when USGS observation standards and methods improved (explain why this matters/how methods changed).</p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="proposal.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Research Proposal</p>
      </div>
    </a>
    <a class="right-next"
       href="hypothesis_testing.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Hypothesis Testing</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>